<!DOCTYPE html>
<html lang="en">
  <head>
    <script async defer data-website-id="c0aa0031-725e-4c93-b587-95d9d18a7cbd" src="https://umami-production-d597.up.railway.app/umami.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Limbo</title>
    <link rel="stylesheet" href="/css/shop.css">
    <link rel="stylesheet" href="/css/global.css">
  </head>
  <body>
   <div id="alertS">
   </div>
    <!-- hamburger -->

    <div class="hamburger">
        <svg clip-rule="evenodd" class="openMenu" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m11 16.745c0-.414.336-.75.75-.75h9.5c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5c-.414 0-.75-.336-.75-.75zm-9-5c0-.414.336-.75.75-.75h18.5c.414 0 .75.336.75.75s-.336.75-.75.75h-18.5c-.414 0-.75-.336-.75-.75zm4-5c0-.414.336-.75.75-.75h14.5c.414 0 .75.336.75.75s-.336.75-.75.75h-14.5c-.414 0-.75-.336-.75-.75z" fill-rule="nonzero"/></svg>
        <svg clip-rule="evenodd" class="closeMenu" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75 0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"/></svg>
    </div>

    <!-- addon, this makes the background darker when a panel is open-->
    <div class="addon"></div>


    <!-- panels, activated on button click (Add Item and Custom Category)-->
    <div class="panels">
        <!-- notification Panel -->
        <div class="buyPanel" id="notifPanel">
          <p id="name<%= i%>">Notifications</p>
          <div class="innerPanel" style="overflow-y: scroll; height: 320px">
              
              
              <div class="panelBar" ></div>
  
              <% var i =0 %>
                <% notifs.forEach(y => { i++; %>
                  <%= y.notification %>
                  <br>
                <% }) %>
              <div class="panelBar"></div>
          </div>
          <div class="buyButtons">
            <button class="buttons no" id="notifClose">Close</button>
        </div>
      </div>  
        <!-- customize category -->     
        <div class="customizeBox">
            <svg clip-rule="evenodd"  class="close closeCustomize" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75 0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"/></svg>

            <div class="info">
                <p>Customize</p>
                <p>Category</p>
            </div>
    
            <div class="categories">
                <input type="text" id="oneName" value="<%= cats[0].categoryOne %>" />
            </div>
    
            <div class="categories">
                <input type="text" id="twoName" value="<%= cats[0].categoryTwo %>" />
    
            </div>
    
            <div class="categories">
                <input type="text" id="threeName" value="<%= cats[0].categoryThree %>"/>
            </div>
    
            <button class="confirmBtn" id="addCat">Confirm</button>
        </div>
        <!-- edit item -->
        
        <!-- add item -->
        <div class="addItemBox">
            <svg clip-rule="evenodd"  class="close closeAddItem" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75 0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"/></svg>

            <div class="info">
                <p>Add Item</p>
            </div>
            <form action="/" method="post" enctype="multipart/form-data" >
                <input type="text" placeholder="Name" name="name" id="nt" required/>
                <input type="text" placeholder="Description" name="desc" required/>
                <input type="text" placeholder="Coins" name="cost" required/>
                <input type="text" placeholder="Stock" name="stock" required/>
                <select id="selectCategory" name="cat">
                    <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                    <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                    <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                </select>        
                <div class="toggle">
                    <input type="checkbox" id="bulk" name="premium" value="premium"/>
                    <label for="bulk">Toggle to disable bulk purchase</label>
                </div>
                
                <input type="file" placeholder="Input File" name="file" required/>
                <button class="confirmBtnItem" type="submit" id="add">Confirm</button>
            </form>
            
        </div>
    </div>

    <!-- main wrapper -->
    <div class="wrapper">
        <!-- the sidebar on the left -->
        <div class="left-menu">
            <div class="externalWrapper">
                <a href="/" class="name" style="cursor: pointer">LIMBO</a>
                <div class="nav">
                    <a href="/" class="active">
                        <svg xmlns="http://www.w3.org/2000/svg" class="active" width="24" height="24" viewBox="0 0 24 24"><path d="M20 7.093v-5.093h-3v2.093l3 3zm4 5.907l-12-12-12 12h3v10h7v-5h4v5h7v-10h3zm-5 8h-3v-5h-8v5h-3v-10.26l7-6.912 7 6.99v10.182z"/></svg> 
                        Home
                    </a>
                    <% if(user == '') { %>
                    <a href="<%= url %>">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-2.937-7h11.162l-1.412 5h2.078l1.977-7h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z"/></svg>
                        Inventory
                    </a>
                    <a href="<%= url %>">
                        <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.666c-1.838 0-3.333 1.496-3.333 3.334s1.495 3.333 3.333 3.333 3.333-1.495 3.333-3.333-1.495-3.334-3.333-3.334m0 7.667c-2.39 0-4.333-1.943-4.333-4.333s1.943-4.334 4.333-4.334 4.333 1.944 4.333 4.334c0 2.39-1.943 4.333-4.333 4.333m-1.193 6.667h2.386c.379-1.104.668-2.451 2.107-3.05 1.496-.617 2.666.196 3.635.672l1.686-1.688c-.508-1.047-1.266-2.199-.669-3.641.567-1.369 1.739-1.663 3.048-2.099v-2.388c-1.235-.421-2.471-.708-3.047-2.098-.572-1.38.057-2.395.669-3.643l-1.687-1.686c-1.117.547-2.221 1.257-3.642.668-1.374-.571-1.656-1.734-2.1-3.047h-2.386c-.424 1.231-.704 2.468-2.099 3.046-.365.153-.718.226-1.077.226-.843 0-1.539-.392-2.566-.893l-1.687 1.686c.574 1.175 1.251 2.237.669 3.643-.571 1.375-1.734 1.654-3.047 2.098v2.388c1.226.418 2.468.705 3.047 2.098.581 1.403-.075 2.432-.669 3.643l1.687 1.687c1.45-.725 2.355-1.204 3.642-.669 1.378.572 1.655 1.738 2.1 3.047m3.094 1h-3.803c-.681-1.918-.785-2.713-1.773-3.123-1.005-.419-1.731.132-3.466.952l-2.689-2.689c.873-1.837 1.367-2.465.953-3.465-.412-.991-1.192-1.087-3.123-1.773v-3.804c1.906-.678 2.712-.782 3.123-1.773.411-.991-.071-1.613-.953-3.466l2.689-2.688c1.741.828 2.466 1.365 3.465.953.992-.412 1.082-1.185 1.775-3.124h3.802c.682 1.918.788 2.714 1.774 3.123 1.001.416 1.709-.119 3.467-.952l2.687 2.688c-.878 1.847-1.361 2.477-.952 3.465.411.992 1.192 1.087 3.123 1.774v3.805c-1.906.677-2.713.782-3.124 1.773-.403.975.044 1.561.954 3.464l-2.688 2.689c-1.728-.82-2.467-1.37-3.456-.955-.988.41-1.08 1.146-1.785 3.126"/></svg>
                        Settings
                    </a>
                    <a href="<%= url %>">
                        <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.666c-1.838 0-3.333 1.496-3.333 3.334s1.495 3.333 3.333 3.333 3.333-1.495 3.333-3.333-1.495-3.334-3.333-3.334m0 7.667c-2.39 0-4.333-1.943-4.333-4.333s1.943-4.334 4.333-4.334 4.333 1.944 4.333 4.334c0 2.39-1.943 4.333-4.333 4.333m-1.193 6.667h2.386c.379-1.104.668-2.451 2.107-3.05 1.496-.617 2.666.196 3.635.672l1.686-1.688c-.508-1.047-1.266-2.199-.669-3.641.567-1.369 1.739-1.663 3.048-2.099v-2.388c-1.235-.421-2.471-.708-3.047-2.098-.572-1.38.057-2.395.669-3.643l-1.687-1.686c-1.117.547-2.221 1.257-3.642.668-1.374-.571-1.656-1.734-2.1-3.047h-2.386c-.424 1.231-.704 2.468-2.099 3.046-.365.153-.718.226-1.077.226-.843 0-1.539-.392-2.566-.893l-1.687 1.686c.574 1.175 1.251 2.237.669 3.643-.571 1.375-1.734 1.654-3.047 2.098v2.388c1.226.418 2.468.705 3.047 2.098.581 1.403-.075 2.432-.669 3.643l1.687 1.687c1.45-.725 2.355-1.204 3.642-.669 1.378.572 1.655 1.738 2.1 3.047m3.094 1h-3.803c-.681-1.918-.785-2.713-1.773-3.123-1.005-.419-1.731.132-3.466.952l-2.689-2.689c.873-1.837 1.367-2.465.953-3.465-.412-.991-1.192-1.087-3.123-1.773v-3.804c1.906-.678 2.712-.782 3.123-1.773.411-.991-.071-1.613-.953-3.466l2.689-2.688c1.741.828 2.466 1.365 3.465.953.992-.412 1.082-1.185 1.775-3.124h3.802c.682 1.918.788 2.714 1.774 3.123 1.001.416 1.709-.119 3.467-.952l2.687 2.688c-.878 1.847-1.361 2.477-.952 3.465.411.992 1.192 1.087 3.123 1.774v3.805c-1.906.677-2.713.782-3.124 1.773-.403.975.044 1.561.954 3.464l-2.688 2.689c-1.728-.82-2.467-1.37-3.456-.955-.988.41-1.08 1.146-1.785 3.126"/></svg>
                        Sign-In
                    </a>
                    <% } else { %>
                        <a href="/inventory">
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-2.937-7h11.162l-1.412 5h2.078l1.977-7h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z"/></svg>
                          Inventory
                        </a>
                        <a href="/settings">
                          <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.666c-1.838 0-3.333 1.496-3.333 3.334s1.495 3.333 3.333 3.333 3.333-1.495 3.333-3.333-1.495-3.334-3.333-3.334m0 7.667c-2.39 0-4.333-1.943-4.333-4.333s1.943-4.334 4.333-4.334 4.333 1.944 4.333 4.334c0 2.39-1.943 4.333-4.333 4.333m-1.193 6.667h2.386c.379-1.104.668-2.451 2.107-3.05 1.496-.617 2.666.196 3.635.672l1.686-1.688c-.508-1.047-1.266-2.199-.669-3.641.567-1.369 1.739-1.663 3.048-2.099v-2.388c-1.235-.421-2.471-.708-3.047-2.098-.572-1.38.057-2.395.669-3.643l-1.687-1.686c-1.117.547-2.221 1.257-3.642.668-1.374-.571-1.656-1.734-2.1-3.047h-2.386c-.424 1.231-.704 2.468-2.099 3.046-.365.153-.718.226-1.077.226-.843 0-1.539-.392-2.566-.893l-1.687 1.686c.574 1.175 1.251 2.237.669 3.643-.571 1.375-1.734 1.654-3.047 2.098v2.388c1.226.418 2.468.705 3.047 2.098.581 1.403-.075 2.432-.669 3.643l1.687 1.687c1.45-.725 2.355-1.204 3.642-.669 1.378.572 1.655 1.738 2.1 3.047m3.094 1h-3.803c-.681-1.918-.785-2.713-1.773-3.123-1.005-.419-1.731.132-3.466.952l-2.689-2.689c.873-1.837 1.367-2.465.953-3.465-.412-.991-1.192-1.087-3.123-1.773v-3.804c1.906-.678 2.712-.782 3.123-1.773.411-.991-.071-1.613-.953-3.466l2.689-2.688c1.741.828 2.466 1.365 3.465.953.992-.412 1.082-1.185 1.775-3.124h3.802c.682 1.918.788 2.714 1.774 3.123 1.001.416 1.709-.119 3.467-.952l2.687 2.688c-.878 1.847-1.361 2.477-.952 3.465.411.992 1.192 1.087 3.123 1.774v3.805c-1.906.677-2.713.782-3.124 1.773-.403.975.044 1.561.954 3.464l-2.688 2.689c-1.728-.82-2.467-1.37-3.456-.955-.988.41-1.08 1.146-1.785 3.126"/></svg>
                          Settings
                        </a>
                        <a href="/logout">
                          <svg width="24" height="24"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill-rule="evenodd" clip-rule="evenodd"><title>ionicons-v5-o</title><path d="M160,240H320V96a16,16,0,0,0-16-16H64A16,16,0,0,0,48,96V416a16,16,0,0,0,16,16H304a16,16,0,0,0,16-16V272H160Z" fill=""></path><path d="M459.31,244.69,368,153.37,345.37,176l64,64H320v32h89.37l-64,64L368,358.63l91.31-91.32a16,16,0,0,0,0-22.62Z" fill=""></path></svg>  
                          Log Out
                        </a>
                    <% } %>
                    <a href="/twiter">
                      <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter" viewBox="0 0 16 16"> <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/> </svg>
                      Twitter
                    </a>
                    <br><br> 
                    
                    <!-- button to swtich to admin mode, just for preview, to show the buttons-->
                    <%  var flag = 0  %>
                    <% if (user != '') { %>
                       <%  for(var j =0; j<ids.length; j++) if (ids[j].userId == id)  flag = 1 %>
                        <% if (flag == 1) { %>
                          <button class="switch" >Admin Mode</button> 
                        <%  }  %>
                    <%  }  %>
                      
                </div> 
                
            </div>
            

            
            <!-- the admin buttons that activate the panels onclick-->
            <div class="admin-buttons">
              
                <button class="addItem">
                  <svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m11 11h-7.25c-.414 0-.75.336-.75.75s.336.75.75.75h7.25v7.25c0 .414.336.75.75.75s.75-.336.75-.75v-7.25h7.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-7.25v-7.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75z" fill-rule="nonzero"/></svg>
                    Add Item
                </button>
                <button class="customize">
                    <p>Customize</p>
                    <p>Category</p>
                </button>
                <button class="customizeOrders">
                    <a href="/admin/orders" style="text-decoration: none"><p>Customize</p>
                        <p>Orders</p></a>
                </button>
            </div>
        </div>

        <!-- the right part of the website-->
        <div class="right-menu">
            <div class="top-part homeTopPart">
                <div class="top-left">
                    <h2 id="mode">User Mode</h2>
                    <div class="banner" >
                      
                        <p>Hi There!</p>
                        <p>This is your way<br/>into the Metaverse.</p>
                    </div>
                </div>

                <!-- the navigation on top right-->
                <div class="top-right">
                    <div class="top-wrapper">
                        <div class="icons">
                          <%  if(user == ''){ %>

                            <a href="<%= url %>">
                                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.666c-1.838 0-3.333 1.496-3.333 3.334s1.495 3.333 3.333 3.333 3.333-1.495 3.333-3.333-1.495-3.334-3.333-3.334m0 7.667c-2.39 0-4.333-1.943-4.333-4.333s1.943-4.334 4.333-4.334 4.333 1.944 4.333 4.334c0 2.39-1.943 4.333-4.333 4.333m-1.193 6.667h2.386c.379-1.104.668-2.451 2.107-3.05 1.496-.617 2.666.196 3.635.672l1.686-1.688c-.508-1.047-1.266-2.199-.669-3.641.567-1.369 1.739-1.663 3.048-2.099v-2.388c-1.235-.421-2.471-.708-3.047-2.098-.572-1.38.057-2.395.669-3.643l-1.687-1.686c-1.117.547-2.221 1.257-3.642.668-1.374-.571-1.656-1.734-2.1-3.047h-2.386c-.424 1.231-.704 2.468-2.099 3.046-.365.153-.718.226-1.077.226-.843 0-1.539-.392-2.566-.893l-1.687 1.686c.574 1.175 1.251 2.237.669 3.643-.571 1.375-1.734 1.654-3.047 2.098v2.388c1.226.418 2.468.705 3.047 2.098.581 1.403-.075 2.432-.669 3.643l1.687 1.687c1.45-.725 2.355-1.204 3.642-.669 1.378.572 1.655 1.738 2.1 3.047m3.094 1h-3.803c-.681-1.918-.785-2.713-1.773-3.123-1.005-.419-1.731.132-3.466.952l-2.689-2.689c.873-1.837 1.367-2.465.953-3.465-.412-.991-1.192-1.087-3.123-1.773v-3.804c1.906-.678 2.712-.782 3.123-1.773.411-.991-.071-1.613-.953-3.466l2.689-2.688c1.741.828 2.466 1.365 3.465.953.992-.412 1.082-1.185 1.775-3.124h3.802c.682 1.918.788 2.714 1.774 3.123 1.001.416 1.709-.119 3.467-.952l2.687 2.688c-.878 1.847-1.361 2.477-.952 3.465.411.992 1.192 1.087 3.123 1.774v3.805c-1.906.677-2.713.782-3.124 1.773-.403.975.044 1.561.954 3.464l-2.688 2.689c-1.728-.82-2.467-1.37-3.456-.955-.988.41-1.08 1.146-1.785 3.126"/></svg>
                            </a>
                            <a href="<%= url %>">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-2.937-7h11.162l-1.412 5h2.078l1.977-7h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z"/></svg>
                            </a>
                            <a href="<%= url %>">
                                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M1 20v-2.946c1.993-.656 2.575-2.158 3.668-6.077.897-3.218 1.891-6.784 4.873-8.023-.027-.147-.041-.299-.041-.454 0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5c0 .156-.014.309-.042.458 2.987 1.244 3.984 4.813 4.884 8.033 1.103 3.95 1.697 5.423 3.658 6.062v2.947h-7c0 2.208-1.792 4-4 4s-4-1.792-4-4h-7zm14 0h-6c0 1.656 1.344 3 3 3s3-1.344 3-3zm-13-1h20v-1.241c-2.062-.918-2.82-3.633-3.621-6.498-1.066-3.814-2.167-7.758-6.379-7.761-4.21 0-5.308 3.937-6.369 7.745-.8 2.872-1.559 5.593-3.631 6.514v1.241zm11.492-16.345l.008-.155c0-.828-.672-1.5-1.5-1.5s-1.5.672-1.5 1.5l.008.152c.455-.099.949-.152 1.487-.152.542 0 1.039.054 1.497.155z"/></svg>
                            </a>
                            
                              <% } else {  %>
                                <a href="/settings">
                                  <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.666c-1.838 0-3.333 1.496-3.333 3.334s1.495 3.333 3.333 3.333 3.333-1.495 3.333-3.333-1.495-3.334-3.333-3.334m0 7.667c-2.39 0-4.333-1.943-4.333-4.333s1.943-4.334 4.333-4.334 4.333 1.944 4.333 4.334c0 2.39-1.943 4.333-4.333 4.333m-1.193 6.667h2.386c.379-1.104.668-2.451 2.107-3.05 1.496-.617 2.666.196 3.635.672l1.686-1.688c-.508-1.047-1.266-2.199-.669-3.641.567-1.369 1.739-1.663 3.048-2.099v-2.388c-1.235-.421-2.471-.708-3.047-2.098-.572-1.38.057-2.395.669-3.643l-1.687-1.686c-1.117.547-2.221 1.257-3.642.668-1.374-.571-1.656-1.734-2.1-3.047h-2.386c-.424 1.231-.704 2.468-2.099 3.046-.365.153-.718.226-1.077.226-.843 0-1.539-.392-2.566-.893l-1.687 1.686c.574 1.175 1.251 2.237.669 3.643-.571 1.375-1.734 1.654-3.047 2.098v2.388c1.226.418 2.468.705 3.047 2.098.581 1.403-.075 2.432-.669 3.643l1.687 1.687c1.45-.725 2.355-1.204 3.642-.669 1.378.572 1.655 1.738 2.1 3.047m3.094 1h-3.803c-.681-1.918-.785-2.713-1.773-3.123-1.005-.419-1.731.132-3.466.952l-2.689-2.689c.873-1.837 1.367-2.465.953-3.465-.412-.991-1.192-1.087-3.123-1.773v-3.804c1.906-.678 2.712-.782 3.123-1.773.411-.991-.071-1.613-.953-3.466l2.689-2.688c1.741.828 2.466 1.365 3.465.953.992-.412 1.082-1.185 1.775-3.124h3.802c.682 1.918.788 2.714 1.774 3.123 1.001.416 1.709-.119 3.467-.952l2.687 2.688c-.878 1.847-1.361 2.477-.952 3.465.411.992 1.192 1.087 3.123 1.774v3.805c-1.906.677-2.713.782-3.124 1.773-.403.975.044 1.561.954 3.464l-2.688 2.689c-1.728-.82-2.467-1.37-3.456-.955-.988.41-1.08 1.146-1.785 3.126"/></svg>
                                </a>
                                <a href="/inventory">
                                  <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"  fill-rule="evenodd" clip-rule="evenodd"><path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-2.937-7h11.162l-1.412 5h2.078l1.977-7h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z"/></svg>
                                </a>
                                <svg style="cursor: pointer" id="notif" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M1 20v-2.946c1.993-.656 2.575-2.158 3.668-6.077.897-3.218 1.891-6.784 4.873-8.023-.027-.147-.041-.299-.041-.454 0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5c0 .156-.014.309-.042.458 2.987 1.244 3.984 4.813 4.884 8.033 1.103 3.95 1.697 5.423 3.658 6.062v2.947h-7c0 2.208-1.792 4-4 4s-4-1.792-4-4h-7zm14 0h-6c0 1.656 1.344 3 3 3s3-1.344 3-3zm-13-1h20v-1.241c-2.062-.918-2.82-3.633-3.621-6.498-1.066-3.814-2.167-7.758-6.379-7.761-4.21 0-5.308 3.937-6.369 7.745-.8 2.872-1.559 5.593-3.631 6.514v1.241zm11.492-16.345l.008-.155c0-.828-.672-1.5-1.5-1.5s-1.5.672-1.5 1.5l.008.152c.455-.099.949-.152 1.487-.152.542 0 1.039.054 1.497.155z"/></svg>
                              
                                <a href="/settings">
                                  <img src="https://cdn.discordapp.com/avatars/<%= user.id %>/<%= user.avatar %>.png" class="img-profile"/>
                              </a>
                          <% } %>
                            
                            
                        </div>
                   
                    <% if(user != '') {  %>
                        <div class="details">
                            <img src="https://cdn.discordapp.com/avatars/<%= user.id %>/<%= user.avatar %>.png" class="pfp"/>
                            <p class="name"><%= user.username %></p>
                            <p class="username"><%= wallet %></p>                      
                            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAJVJREFUaEPt0sEJACEQxVDtv7XpSXsIBESy9/lg3u6ZOeuDb/eQxxQTeQxkJZKIVKBfSwqLZxPB6aTDRKSweDYRnE46TEQKi2cTwemkw0SksHg2EZxOOkxECotnE8HppMNEpLB4NhGcTjpMRAqLZxPB6aTDRKSweDYRnE46TEQKi2cTwemkw0SksHg2EZxOOkxECotnL3w1qYmHx+xqAAAAAElFTkSuQmCC" class="coin-image"/>
                            <p class="coins"><%= coins %> Coins</p>
                        </div>
                    <% } else { %>
                      <div class="details">
                        <img src="https://sparkcdnwus2.azureedge.net/sparkimageassets/XPDC2RH70K22MN-08afd558-a61c-4a63-9171-d3f199738e9f" class="pfp"/>
                      </div>
                     
                        <div class="externalWrapper">
                          <div class="nav">
                            <a href="<%= url %>" style="color: #9098D8;
                              font-size: 1rem;
                              text-decoration: none;
                              display: flex;
                              align-items: center;
                              margin-top: 40px;
                              font-weight: 500;
                              transition: all 350ms ease;">
                              
                              Sign-In
                            </a>
                        
                      
                    </div>
                    <% } %>
                    </div>
                </div>
            </div>

            <!-- the rows with the categories-->
            <div class="rows">
                <div class="container">
                    <p class="detail"><%= cats[0].categoryOne %>:</p>
                    <div class="rows-wrapper">


                        <!-- one column, one image-->




                <% var i =0 %>
                <% prod.forEach(x => { i++; %>
                  <% if(x.category == cats[0].categoryOne) { %>
                    <div class="buyPanel" id="panel<%= i %>">
                        <div class="innerPanel">
                            <p id="name<%= i%>"><%= x.name %></p>
                            
                            <div class="panelBar"></div>
                
                            <p id="description<%= i%>"><%= x.description %></p>
                            <p >Cost: <span id="cost<%= i%>"><%= x.cost %> </span>coins</p>
                            <p >Stock: <span id="stock<%= i%>"><%= x.stock %></span></p>
                            <p >Category: <span id="category<%= i%>"><%= x.category%></span></p>
                
                            <p class="confirmation">Are you sure you want to buy?</p>
                
                            <div class="panelBar"></div>
                
                            <div class="buyButtons">
                                <a href="#"><button class="buttons" id="acc<%= i%>">Yes</button></a>
                                <button class="buttons no" id="rej<%= i%>">No</button>
                            </div>
                        </div>
                    </div>

                    
                    <div class="buyPanel" id="dpanel<%= i %>">
                      <div class="innerPanel">
                          <p id="name<%= i%>"><%= x.name %></p>
                          
                          <div class="panelBar"></div>
              
                          <p id="description<%= i%>"><%= x.description %></p>
                          <p >Category: <span id="category<%= i%>"><%= x.category%></span></p>
              
                          <p class="confirmation">Are you sure you want to delete?</p>
              
                          <div class="panelBar"></div>
              
                          <div class="buyButtons">
                              <button class="buttons" id="<%= i%>delt">Yes</button>
                              <button class="buttons no" id="drej<%= i%>">No</button>
                          </div>
                      </div>
                  </div>

                    <div class="buyPanel" id="epanel<%= i %>">
                      <div class="innerPanel">
                        <div class="info">
                          <p>Edit Item</p>
                      </div>
                        <input type="text" placeholder="Name"  name="name" id="<%= i%>nt" value="<%= x.name %>" required/>
                        <input type="text" placeholder="Description"  id="<%= i%>desc" value="<%= x.description %>" required/>
                        <input type="text" placeholder="Coins"  id="<%= i%>ca" value="<%= x.cost %>" required/>
                        <input type="text" placeholder="Stock"  id="<%= i%>sa" value="<%= x.stock %>" required/>
                        <select id="<%= i%>selectCategory" name="cat" class="selectCat">
                           <% if (x.category == cats[0].categoryOne) { %>
                            <option value="<%= cats[0].categoryOne %>" selected> <%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                            <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                           <% } else if(x.category == cats[0].categoryTwo) { %>
                            <option value="<%= cats[0].categoryTwo %>" selected> <%= cats[0].categoryTwo %></option>
                            <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                            <% } else if(x.category == cats[0].categoryThree) { %>
                            <option value="<%= cats[0].categoryThree %>" selected> <%= cats[0].categoryThree %></option>
                            <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                            <% } %>
                          </select>        
                          <p class="confirmation">Are you sure you want to Edit?</p>
              
                          <div class="panelBar"></div>
              
                          <div class="buyButtons">
                              <button class="buttons" id="<%= i %>yt">confirm</button>
                              <button class="buttons no" id="erej<%= i%>">close</button>
                          </div>
                      </div>
                  </div>







                    <div class="homePageColumn">
                        <% if (user == '') { %>
                            <a href="<%= url %>">
                                <div id="card<%= i%>">
                                    <img id="imageTag<%= i%>" class="wl-image" src="assets/<%= x.url %>"/>
                                </div>
                               
                            </a>
                            <%  } else { %>
                                <div id="card<%= i%>">
                                    <img id="imageTag<%= i%>" class="wl-image" src="assets/<%= x.url %>"/>
                                </div>
                               
                            <%  }  %>  
                            <p class="claim">Claim: <span><%= x.cost %></span></p>
                            <div class="itemButtons">
                                <button class="edit" id="et<%= i%>">Edit</button>
                                <button class="delete" id="dshow<%= i%>">Delete</button>
                            </div>
                    </div>
                    <% } %>
                <% }) %>

                    </div>
                </div>

                <div class="container">
                    <p class="detail"><%= cats[0].categoryTwo %>:</p>
                    <div class="rows-wrapper">
                <% var i =0 %>
                <% prod.forEach(x => { i++; %>
                  <% if(x.category == cats[0].categoryTwo ){ %>
                    <div class="buyPanel" id="panel<%= i %>">
                        <div class="innerPanel">
                            <p id="name<%= i%>"><%= x.name %></p>
                            
                            <div class="panelBar"></div>
                
                            <p id="description<%= i%>"><%= x.description %></p>
                            <p >Cost: <span id="cost<%= i%>"><%= x.cost %> </span>coins</p>
                            <p >Stock: <span id="stock<%= i%>"><%= x.stock %></span></p>
                            <p >Category: <span id="category<%= i%>"><%= x.category%></span></p>
                
                            <p class="confirmation">Are you sure you want to buy?</p>
                
                            <div class="panelBar"></div>
                
                            <div class="buyButtons">
                              <a href="#"><button class="buttons" id="acc<%= i%>">Yes</button></a>
                                <button class="buttons no" id="rej<%= i%>">No</button>
                            </div>
                        </div>
                    </div>


                     <div class="buyPanel" id="dpanel<%= i %>">
                      <div class="innerPanel">
                          <p id="name<%= i%>"><%= x.name %></p>
                          
                          <div class="panelBar"></div>
              
                          <p id="description<%= i%>"><%= x.description %></p>
                          <p >Category: <span id="category<%= i%>"><%= x.category%></span></p>
              
                          <p class="confirmation">Are you sure you want to delete?</p>
              
                          <div class="panelBar"></div>
              
                          <div class="buyButtons">
                              <button class="buttons" id="<%= i%>delt">Yes</button>
                              <button class="buttons no" id="drej<%= i%>">No</button>
                          </div>
                      </div>
                  </div>

                    <div class="buyPanel" id="epanel<%= i %>">
                      <div class="innerPanel">
                        <div class="info">
                          <p>Edit Item</p>
                      </div>
                        <input type="text" placeholder="Name"  name="name" id="<%= i%>nt" value="<%= x.name %>" required/>
                        <input type="text" placeholder="Description"  id="<%= i%>desc" value="<%= x.description %>" required/>
                        <input type="text" placeholder="Coins"  id="<%= i%>ca" value="<%= x.cost %>" required/>
                        <input type="text" placeholder="Stock"  id="<%= i%>sa" value="<%= x.stock %>" required/>
                        <select id="<%= i%>selectCategory" name="cat" class="selectCat">
                           <% if (x.category == cats[0].categoryOne) { %>
                            <option value="<%= cats[0].categoryOne %>" selected> <%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                            <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                           <% } else if(x.category == cats[0].categoryTwo) { %>
                            <option value="<%= cats[0].categoryTwo %>" selected> <%= cats[0].categoryTwo %></option>
                            <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                            <% } else if(x.category == cats[0].categoryThree) { %>
                            <option value="<%= cats[0].categoryThree %>" selected> <%= cats[0].categoryThree %></option>
                            <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                            <% } %>
                          </select>        
                          <p class="confirmation">Are you sure you want to Edit?</p>
              
                          <div class="panelBar"></div>
              
                          <div class="buyButtons">
                              <button class="buttons" id="<%= i %>yt">confirm</button>
                              <button class="buttons no" id="erej<%= i%>">close</button>
                          </div>
                      </div>
                  </div>





                    <div class="homePageColumn">
                        <% if (user == '') { %>
                            <a href="<%= url %>">
                              <div id="card<%= i%>">
                               <img id="imageTag<%= i%>" class="wl-image" src="assets/<%= x.url %>"/>
                              </div>
                            </a>
                            <%  } else { %>
                                <div id="card<%= i%>">
                                <img id="imageTag<%= i%>" class="wl-image" src="assets/<%= x.url %>"/>
                                </div>
                                <%  }  %>  
                            <p class="claim">Claim: <span><%= x.cost %></span></p>
                            <div class="itemButtons">
                                <button class="edit" id="et<%= i%>">Edit</button>
                                <button class="delete" id="dshow<%= i%>">Delete</button>
                            </div>
                    </div>
                    <% } %>
                <% }) %>
                    
                    </div>
                </div>

                <div class="container">
                    <p class="detail"><%= cats[0].categoryThree %>:</p>
                    <div class="rows-wrapper">
                        <% var i =0 %>
                <% prod.forEach(x => { i++; %>
                  <% if(x.category == cats[0].categoryThree ) { %>
                    <div class="buyPanel" id="panel<%= i %>">
                        <div class="innerPanel">
                            <p id="name<%= i%>"><%= x.name %></p>
                            
                            <div class="panelBar"></div>
                
                            <p id="description<%= i%>"><%= x.description %></p>
                            <p >Cost: <span id="cost<%= i%>"><%= x.cost %> </span>coins</p>
                            <p >Stock: <span id="stock<%= i%>"><%= x.stock %></span></p>
                            <p >Category: <span id="category<%= i%>"><%= x.category%></span></p>
                
                            <p class="confirmation">Are you sure you want to buy?</p>
                
                            <div class="panelBar"></div>
                
                            <div class="buyButtons">
                              <a href="#"><button class="buttons" id="acc<%= i%>">Yes</button></a>
                                <button class="buttons no" id="rej<%= i%>">No</button>
                            </div>
                        </div>
                    </div>  


                    <div class="buyPanel" id="dpanel<%= i %>">
                      <div class="innerPanel">
                          <p id="name<%= i%>"><%= x.name %></p>
                          
                          <div class="panelBar"></div>
              
                          <p id="description<%= i%>"><%= x.description %></p>
                          <p >Category: <span id="category<%= i%>"><%= x.category%></span></p>
              
                          <p class="confirmation">Are you sure you want to delete?</p>
              
                          <div class="panelBar"></div>
              
                          <div class="buyButtons">
                              <button class="buttons" id="<%= i%>delt">Yes</button>
                              <button class="buttons no" id="drej<%= i%>">No</button>
                          </div>
                      </div>
                  </div>

                    

                    <div class="buyPanel" id="epanel<%= i %>">
                      <div class="innerPanel">
                        <div class="info">
                          <p>Edit Item</p>
                      </div>
                        <input type="text" placeholder="Name"  name="name" id="<%= i%>nt" value="<%= x.name %>" required/>
                        <input type="text" placeholder="Description"  id="<%= i%>desc" value="<%= x.description %>" required/>
                        <input type="text" placeholder="Coins"  id="<%= i%>ca" value="<%= x.cost %>" required/>
                        <input type="text" placeholder="Stock"  id="<%= i%>sa" value="<%= x.stock %>" required/>
                        <select id="<%= i%>selectCategory" name="cat" class="selectCat">
                           <% if (x.category == cats[0].categoryOne) { %>
                            <option value="<%= cats[0].categoryOne %>" selected> <%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                            <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                           <% } else if(x.category == cats[0].categoryTwo) { %>
                            <option value="<%= cats[0].categoryTwo %>" selected> <%= cats[0].categoryTwo %></option>
                            <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryThree %>"><%= cats[0].categoryThree %></option>
                            <% } else if(x.category == cats[0].categoryThree) { %>
                            <option value="<%= cats[0].categoryThree %>" selected> <%= cats[0].categoryThree %></option>
                            <option value="<%= cats[0].categoryOne %>"><%= cats[0].categoryOne %></option>
                            <option value="<%= cats[0].categoryTwo %>"><%= cats[0].categoryTwo %></option>
                            <% } %>
                          </select>        
                          <p class="confirmation">Are you sure you want to Edit?</p>
              
                          <div class="panelBar"></div>
              
                          <div class="buyButtons">
                              <button class="buttons" id="<%= i %>yt">confirm</button>
                              <button class="buttons no" id="erej<%= i%>">close</button>
                          </div>
                      </div>
                  </div>





                    <div class="homePageColumn">
                        <% if (user == '') { %>
                            <a href="<%= url %>">
                               <div id="card<%= i%>">
                                <img id="imageTag<%= i%>" class="wl-image" src="assets/<%= x.url %>"/>
                               </div>
                            </a>
                            <%  } else { %>
                                <div id="card<%= i%>">
                                <img id="imageTag<%= i%>" class="wl-image" src="assets/<%= x.url %>"/>
                                </div>
                                <%  }  %>  
                            <p class="claim">Claim: <span><%= x.cost %></span></p>
                            <div class="itemButtons">
                                <button class="edit" id="et<%= i%>">Edit</button>
                                <button class="delete" id="dshow<%= i%>">Delete</button>
                            </div>
                    </div>
                    <% } %>
                <% }) %>

                       

                    </div>
                </div>
            </div>
        </div>
    </div>
	<script src="/js/shop.js"></script>
     
  <script>
        document.getElementById('notif').addEventListener("click", () => {
          backg.style.display = "block";
          document.getElementById("notifPanel").style.display = "block"
        })
        document.getElementById('notifClose').addEventListener("click", () => {
          backg.style.display = "none";
          document.getElementById("notifPanel").style.display = "none"
        })
        const backg = document.querySelector(".addon");
        var uniqueCheck, profCheck
        let a = '<%- coins %>'
        if (`<%- unique %>` != '') {
        uniqueCheck = JSON.parse(`<%- unique %>`)
        }
        if (`<%- prof %>` != '') {
        profCheck = JSON.parse(`<%- prof %>`)
        }
        let p = 0
        for(var j =0; j<`<%- prod.length %>`; j++) { ( function() { 
            p++;
            var t = p
            console.log(p)
            document.getElementById("dshow"+t).addEventListener("click", () => {
              document.getElementById("dpanel"+t).style.display = "block"
              backg.style.display = "block";
            })
            document.getElementById("drej"+t).addEventListener("click", () => {
                document.getElementById("dpanel"+t).style.display = "none"
                backg.style.display = "none";
            })
            document.getElementById("et"+t).addEventListener("click", () => {
                document.getElementById("epanel"+t).style.display = "block"
                backg.style.display = "block";
            })
            document.getElementById("erej"+t).addEventListener("click", () => {
                document.getElementById("epanel"+t).style.display = "none"
                backg.style.display = "none";
            })
            document.getElementById("card"+t).addEventListener("click", () => {
                document.getElementById("panel"+t).style.display = "flex";
                backg.style.display = "block";
            })
            document.getElementById("rej"+t).addEventListener("click", () => {
                document.getElementById("panel"+t).style.display = "none";
                backg.style.display = "none";
            })

            var n = document.getElementById(`name${p}`).innerText
            var q = Number(document.getElementById(`cost${p}`).innerText)
            console.log(q, a)
            //var pre = document.getElementById(`${p}prem`).title
            var des = Number(document.getElementById(`description${p}`).innerText)
            var r = Number(document.getElementById(`stock${p}`).innerText)
            var cat = document.getElementById(`category${p}`).innerText
            var ur = document.getElementById(`imageTag${p}`).src.slice(document.getElementById(`imageTag${p}`).src.indexOf('/assets')+8)
            document.getElementById(`acc${p}`).addEventListener('click', () => {
              
              var flag=0
              uniqueCheck.forEach(el => {
                if (el.category == cat && el.name == n) {
                  //document.getElementById('premi').style.display="block";
                  setTimeout(() => {
                    window.location.href='/'
                    console.log("Already in inventory")
                  }, 1000)
                  flag=1
                }
              })
            if (flag == 0) {
            
              if (r <= 0) {
                document.getElementById("panel"+t).style.display = "none";
                backg.style.display = "none";
                document.getElementById('alertS').style.display = "block"
                document.getElementById('alertS').innerText = "Out Of Stock!"
                setTimeout(() => {
                  document.getElementById("panel"+t).style.display = "block";
                  backg.style.display = "block";
                  document.getElementById('alertS').style.display = "none"
                }, 1000) 
              }
              else if (Number(a) >= q) {
                if (profCheck.wallet && profCheck.name && profCheck.gender && profCheck.country && profCheck.zipCode && profCheck.houseNumber && profCheck.city && profCheck.streetName) {
                  const glob = Number(`<%- prod.length %>`)
                  let products = JSON.parse(`<%- products %>`)
                  let prodFlag = 0
                  console.log(cat, n)
                  products.forEach(product => {
                    if (product.name == n && product.category == cat && product.premium == true) {
                          document.getElementById("panel"+t).style.display = "none";
                          backg.style.display = "none";
                          document.getElementById('alertS').style.display = "block"
                          document.getElementById('alertS').innerText = "Bulk purchase disabled!"
                          setTimeout(() => {
                            document.getElementById("panel"+t).style.display = "block";
                            backg.style.display = "block";
                            document.getElementById('alertS').style.display = "none"
                          }, 1000)
                          prodFlag = 1
                      }
                  })
                  if (prodFlag == 0) {
                    document.getElementById("panel"+t).style.display = "none";
                    backg.style.display = "none";
                    document.getElementById('alertS').style.display = "block"
                    document.getElementById('alertS').innerText = "Payment Successful!"
                   setTimeout(() => {
                      window.location.href='/'
                    }, 2000) 
                    const res =  fetch(`/`, {
                    method: "POST",
                    headers: {
                      'Accept': 'application/json',
                      "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                      "id" : t,
                      "name" : n,
                      "description" : des,
                      "cost" :  a - q,
                      "realCost" : q,
                      "red" : true,
                      "stock" : r,
                      "category" : cat,
                      "url" : ur,
                      "premium" : false 
                    }),
                  }).then(res => {  
                      if (res.status !== 200) {
                          console.log("error")
                      } else {
                        
                        res.json().then(data => {
                          console.log(data)
                        })
                      }
                    })
                  }
                }
                else {
                  document.getElementById("panel"+t).style.display = "none";
                  backg.style.display = "none";
                  document.getElementById('alertS').style.display = "block"
                  document.getElementById('alertS').innerText = "Wallet-Address/Profile Incomplete!"
                  setTimeout(() => {
                    document.getElementById("panel"+t).style.display = "block";
                    backg.style.display = "block";
                    document.getElementById('alertS').style.display = "none"
                  }, 1000)
                }
              }
              else {
                 
                //document.getElementById('dan').style.display="block";
                document.getElementById("panel"+t).style.display = "none";
                backg.style.display = "none";
                document.getElementById('alertS').style.display = "block"
                document.getElementById('alertS').innerText = "Not Enough Coins!"
                setTimeout(() => {
                  document.getElementById("panel"+t).style.display = "block";
                  backg.style.display = "block";
                  document.getElementById('alertS').style.display = "none"
                }, 1000)    
              }
            }
          })
          console.log(p)
      
      var w = document.getElementById(`${p}yt`)
      w.addEventListener('click', () => {
       console.log("Function called")
      let final, flag = 0
      let products = JSON.parse(`<%- products %>`)
      final = document.getElementById(`${t}selectCategory`).value
      products.forEach(product => {
        if (product.name == document.getElementById(`${p}nt`).value && product.category == final && product.id != p) {
            console.log('duplicate found in front end')
            document.getElementById('uniItems').style.display="block";
            setTimeout(() => {
              window.location.href='/'
            }, 1000)
            flag = 1
        }
      })
      if (flag == 0) {
        const res =  fetch(`/`, {
          method: "POST",
          headers: {
            'Accept': 'application/json',
            "Content-Type": "application/json",
          },
      
          body: JSON.stringify({
            "id" : t,
            "name"  : document.getElementById(`${t}nt`).value,
            "cost"  : document.getElementById(`${t}ca`).value,
            "stock" : document.getElementById(`${t}sa`).value,
            "category" : final,
            "description" : document.getElementById(`${t}desc`).value,
            "edit" : true
          }),
        }).then(res => {  
            if (res.status !== 200) {
                console.log("error")
            } else {
              res.json().then(data => {
                console.log(data)
              })
            }
          })
          setTimeout(() => {
            window.location.href='/'
          }, 1000)
        }
      })
      
      var qw = document.getElementById(`${p}delt`)
      qw.addEventListener('click', () => {
    
      const res =  fetch(`/`, {
          method: "POST",
          headers: {
            'Accept': 'application/json',
            "Content-Type": "application/json",
          },
      
          body: JSON.stringify({
            "id" : t,
            "del" : true
          }),
        }).then(res => {  
            if (res.status !== 200) {
                console.log("error")
            } else {
          
              res.json().then(data => {
                console.log(data)
              })
            }
          })
          setTimeout(() => {
            window.location.href='/'
          }, 1000)
      })
       
    })()}
      
     document.getElementById('addCat').addEventListener ("click", () => {
      if (document.getElementById(`oneName`).value == document.getElementById(`twoName`).value || document.getElementById(`twoName`).value == document.getElementById(`threeName`).value || document.getElementById(`oneName`).value == document.getElementById(`threeName`).value) {
          //document.getElementById('uni').style.display="block";
          setTimeout(() => {
            window.location.href='/'
          }, 1000)
      }
      else {
       const res =  fetch(`/`, {
        method: "POST",
        headers: {
          'Accept': 'application/json',
          "Content-Type": "application/json",
        },
    
        body: JSON.stringify({
          "oneName"  : document.getElementById(`oneName`).value,
          "twoName"  : document.getElementById(`twoName`).value,
          "threeName"  : document.getElementById(`threeName`).value,
          "catEdit" : true,
          "oldCatOne" : `<%- cats[0].categoryOne %>`,
          "oldCatTwo" : `<%- cats[0].categoryTwo %>`,
          "oldCatThree" : `<%- cats[0].categoryThree %>`,
        }),
      }).then(res => {  
          if (res.status !== 200) {
              console.log("error")
          } else {
            res.json().then(data => {
              console.log(data)
            })
          }
        })
        setTimeout(() => {
          window.location.href='/'
        }, 1000)
      }
     })
      //document.getElementById('open').addEventListener('click', () => {
     //   window.location.href = '/admin/add-product'
     // })
      
    </script>
  </body>
</html>